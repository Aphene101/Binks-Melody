import{v as d,b as r,x as l}from"./firebase-Yycidtwu.js";const t=document.getElementById("reset-status"),s=document.getElementById("reset-form"),c=document.getElementById("new-password");function a(e){return new URL(window.location.href).searchParams.get(e)}const m=a("mode"),n=a("oobCode");async function u(){if(m!=="resetPassword"||!n){t.textContent="Invalid or malformed reset link.",s.style.display="none";return}try{const e=await l(r,n);t.textContent=`Resetting password for ${e}`,t.classList.remove("error-message")}catch(e){console.error(e),t.textContent="This reset link is invalid or expired.",s.style.display="none"}}s.addEventListener("submit",async e=>{e.preventDefault();const o=c.value.trim();if(o)try{await d(r,n,o),t.textContent="Password updated! Redirecting to login...",t.classList.remove("error-message"),setTimeout(()=>{window.location.href="/Binks-Melody/index.html"},900)}catch(i){console.error(i),t.textContent="Could not update password. Request a new reset email."}});u();
