import{d as r,a as o,g as w,c as y,b as d,s as I,e as m,f as E,h as v}from"./main-4yAFa0Dy.js";document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("sign-up-form"),l=document.getElementById("sign-up-username"),g=document.getElementById("sign-up-email"),p=document.getElementById("sign-up-password"),t=document.getElementById("sign-up-error");c.addEventListener("submit",async f=>{f.preventDefault();const n=l.value.trim(),a=g.value.trim(),i=p.value;if(!n||!a||!i){t.textContent="All fields are required.";return}try{const e=r(o,"usernames",n);if((await w(e)).exists()){t.textContent="Username is already taken.";return}const u=(await y(d,a,i)).user,s=u.uid;await I(u),await m(r(o,"usernames",n),{email:a,userId:s}),await m(r(o,"users",s),{}),await E(s),await v(d),alert("Account created! Please verify your email before logging in."),window.location.href="./index.html"}catch(e){console.error("Signup error:",e),t.textContent=e.message||"Signup failed."}})});
