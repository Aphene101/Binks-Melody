import{c as w,a as i,s as y,b as u,d,e as c,f as I,g as E}from"./main-DDpg8L_D.js";document.addEventListener("DOMContentLoaded",()=>{const m=document.getElementById("sign-up-form"),l=document.getElementById("sign-up-username"),g=document.getElementById("sign-up-email"),p=document.getElementById("sign-up-password"),a=document.getElementById("sign-up-error");m.addEventListener("submit",async f=>{f.preventDefault();const s=l.value.trim(),e=g.value.trim(),r=p.value;if(!s||!e||!r){a.textContent="All fields are required.";return}try{const o=(await w(i,e,r)).user,n=o.uid;await y(o),await u(d(c,"usernames",s),{email:e,userId:n}),await u(d(c,"users",n),{}),await I(n),await E(i),alert("Account created! Please verify your email before logging in."),window.location.href="./index.html"}catch(t){console.error("Signup error:",t),a.textContent=t.message||"Signup failed."}})});
